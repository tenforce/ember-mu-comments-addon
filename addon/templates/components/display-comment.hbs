<div class="comment {{comment.status}}">
  <div class="header">
    <div class="author">{{await authorName}}</div>
    <div class="actions">
      {{#if loading}}
        {{loadingPlaceholder}}
      {{else}}
        <ul>
          <li class="edit {{if disabled "disabled" "enabled"}}">
            <button type="button" class="edit {{if disabled "disabled" "enabled"}}" name="modifyComment" disabled={{disable}} {{action "toggleEditing"}}></button>
          </li>
          <li class="delete {{if disabled "disabled" "enabled"}}">
            <button type="button" class="delete {{if disabled "disabled" "enabled"}}" name="deleteComment" disabled={{disable}} {{action "deleteComment" comment}}></button>
          </li>
        </ul>
      {{/if}}
    </div>
  </div>

  <div class="message">
    {{textarea value=comment.message key-down="keyPress" disabled=shouldDisableTextArea}}
    <div class="status-symbol {{comment.status}}" {{action "changeStatus"}}></div>
    {{#if editing}}
      <ul class="assigned-users">
        {{#each assignedUsers as |user|}}
          <li><span>{{user.name}}</span> <button class="delete" {{action "removeAssigned" user}} tabindex="-1">x</button></li>
        {{/each}}
      </ul>
      {{user-search index=index assignedUsers=assignedUsers availableUsers=availableUsers closeAfterAdding=multiAdds addAssigned="addAssigned" closeSearch="closeSearch"}}
    {{/if}}
  </div>

  <div class="footer">
    <div class="post-time">Created {{format-relative comment.creationDate type="numeric" interval=1000}}</div>
    {{#if comment.modificationDate}}
      <div class="edit-time">Edited {{format-relative comment.modificationDate type="numeric" interval=1000}}</div>
    {{/if}}
  </div>
</div>
